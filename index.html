
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ellison Leão</title>
  <meta name="author" content="Ellison Leão">

  
  <meta name="description" content="Hello people! This is a quick post about how can you get all the
Components of a Unity GameObject. Sometimes you need to call a
function inside a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ellisonleao.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Ellison Leão" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css">
<meta property="og:url" content="http://ellisonleao.github.com/index.html">
<meta property="og:type" content="website" />

<meta property="og:title" content="Ellison Leão">
<meta property="og:description" content="Ellison Leão Blog">
 



  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-899823-6']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="/">Ellison Leão</a></h1>
  
  <h2>Drumming and coding</h2>
  
  
</hgroup>

</header>
  <div id="navigation">
    <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ellisonleao.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  </div>
  <div id="body"  >
    <div id="main">
      <div id="content">
        <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/debug-all-the-components-of-a-unity3d-gameobject/">Debug All the Components of a Unity3D GameObject</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-08T00:34:00-03:00" pubdate data-updated="true">May 8<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/debug-all-the-components-of-a-unity3d-gameobject/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hello people! This is a quick post about how can you get all the
Components of a Unity GameObject. Sometimes you need to call a
function inside a script that belongs to another GameObject. Getting
this script component is one of the ways of doing it. Let&#8217;s see the code</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">Component</span><span class="p">[]</span> <span class="n">components</span> <span class="p">=</span> <span class="n">YOURGAMEOBJECT</span><span class="p">.</span><span class="n">GetComponents</span><span class="p">&lt;</span><span class="n">Component</span><span class="p">&gt;();</span>
</span><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="n">Component</span> <span class="n">component</span> <span class="k">in</span> <span class="n">components</span><span class="p">){</span>
</span><span class='line'>  <span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;@@@@&quot;</span> <span class="p">+</span> <span class="n">YOURGAMEOBJECT</span><span class="p">.</span><span class="n">name</span> <span class="p">+</span><span class="s">&quot;\t[&quot;</span><span class="p">+</span><span class="n">c</span><span class="p">.</span><span class="n">name</span><span class="p">+</span><span class="s">&quot;] &quot;</span><span class="p">+</span><span class="s">&quot;\t&quot;</span><span class="p">+</span><span class="n">c</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span> <span class="p">+</span><span class="s">&quot;\t&quot;</span><span class="p">+</span><span class="n">c</span><span class="p">.</span><span class="n">GetType</span><span class="p">().</span><span class="n">BaseType</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>And that&#8217;s it. Call this code inside a script and see all the components
in the Debug console. Hope it helps! See you next post!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/a-simple-fabfile-for-django-applications/">A Simple Fabfile for Django Applications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-06T12:37:00-03:00" pubdate data-updated="true">May 6<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/a-simple-fabfile-for-django-applications/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hello people, after so many time working with django projects, i’ve decided to put a simple fabric fabfile to help people easily deploy django projects into dev and production servers.</p>

<p>It supports several tasks, like:</p>

<ul>
<li>Get latest dump</li>
<li>Generate dump from automysqlbackup</li>
<li>Clear Thumbnails for projects using sorl-thumbnail</li>
<li>Simple and easy deploy with supervisor</li>
</ul>


<p>It’s still a initial file, but it already contains a lot of nice features. Hope you guys like it!</p>

<p>Source code available <a href="https://github.com/ellisonleao/fabfile-django-bootstrap">here</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/hello-world-again/">Hello World (Again!)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-18T01:38:00-03:00" pubdate data-updated="true">Mar 18<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/hello-world-again/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hi People! it&#8217;s been a long time since my last post on the older blog
and i&#8217;m glad to say that the i&#8217;m back on blogging about
music, game developing and web development and other cool things. Hope you keep
visiting the blog or signing the feed. Stay tuned for the next posts!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/a-infancia-ainda-nao-esta-perdida/">The Hope of Our Childhood Isn&#8217;t Lost (Yet)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-16T12:33:00-03:00" pubdate data-updated="true">Apr 16<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/a-infancia-ainda-nao-esta-perdida/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Monday is usually the day you wake a little bit more lazier, hoping to spend a little more time in bed, thinking why can&#8217;t it be Friday to sleep a little more time.</p>

<p>Surprisingly, when I arrived at work I came across to a really fantastic notice. A notice that encouraged that Monday routine and made me think of my childhood, of how I loved to create things and how I imagine doing adult things. On that notice I saw a boy of nine years old creating an analogic arcade just using cardboard boxes. He created everything from the box that manages the money of the chips ($ 1 per card) and so-called fun passes (allowing a total of 500 shots for $ 2), to the games. The boy who helps his father in his mechanic garage, was discovered by a customer of the shop, who created a Facebook event and a Crowd Funding movement  to raise money for his college. The boy&#8217;s name is Caine and this short movie below was created to show all of this little boy&#8217;s geniality. Check below</p>

<div class="embed-video-container"><iframe src="http://player.vimeo.com/video/40000072 "></iframe></div>


<p><a href="http://www.updateordie.com/2012/04/11/o-menino-que-montou-um-fliperama-com-caixas-de-papelao/">Saw it here</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/nao-eram-apenas-copos-rosas/">Não Eram Apenas Copos Rosas</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-16T18:14:00-02:00" pubdate data-updated="true">Feb 16<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/nao-eram-apenas-copos-rosas/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Portuguese only!</strong></p>

<p>Nos dias 27,28 e 29 de Janeiro aconteceu a <strong>Global Game Jam 2012</strong> , o maior evento de game jam do mundo, que reuniu cerca de 10684 participantes espalhados por 42 países e mais de 2000 jogos realizados.
Curitiba foi, esse ano, a segunda maior sede do mundo, com 245 inscritos e só perdeu pra Dinamarca, que teve 290 inscritos. Nosso grupo foi composto por 5 pessoas ( 3 programadores e 2 artistas ).
Sem nome inicialmente, chegamos por volta das 17h na sexta feira e já escolhemos um lugar para colocar as tralhas que iríamos usar durante todo o final de semana ( salgados, doces, energéticos, etc..). Às 18h começava o keynote oficial, com palestras de vários nomes da comunidade mundial dos jogos e o tema ainda não tinha sido divulgado. Uma expectativa pairava o pessoal que estava lá sedendo pela vontade de criar coisas novas e divertidas.
Após o keynote de Will Wright, o tema surgira e todos que estavam lá ficaram abismados com um tema tão diferente. Pela primeira vez, o tema da Global Game Jam não era uma palavra e sim uma imagem, Ouroboros.</p>

<p><img src="http://2.bp.blogspot.com/-Bok6gTKk2WY/US51m-nzvmI/AAAAAAAAOLM/8ns0CdXxRp8/s1600/ouroboros.jpg" alt="Ouroboros" /></p>

<p>Infinito, ciclo da vida, morte e ressureição. Esses foram as palavras que palpitavam na grande sala onde os grupos se reuniam para pensar como seria fazer um jogo com estes temas.
Era a hora do brainstorm inicial.
Nosso grupo ficou cerca de 2 horas jogando idéias num papel, misturando vários elementos e mecânicas, até que, chegamos num  consenso. Contaríamos a saga de um alquimista em busca da vida eterna.
Na história, o alquimista Frangoi consegue transitar em 2 mundos paralelos (real e espiritual) e tem de percorrer um longo percurso, resolvendo enigmas e combatendo inimigos pelo caminho. Idéias concretizadas, fomos para o planejamento de o que daria pra fazer nessas 48 horas. Uns achavam que não sairíamos de um concept, outros já achavam que dava pra completar uma fase inteira. E ficou na base do &#8220;vamo ver no que vai dar&#8221;. Começando as atividades, resolvemos utilizar como ferramentas, o excelente framework <a href="http://www.melonjs.org">MelonJS</a>, já que tínhamos resolvido fazer nosso jogo em HTML5.</p>

<p>Vamos aos rabiscos. Nossos excelentes artistas <a href="http://rathaelos.deviantart.com/">Rafael Françoi</a> e <a href="http://www.facebook.com/profile.php?id=100000111944458">Carlos Iubel</a> começaram a botar a mão na massa ainda a noite e lá por volta das 01 da manhã do
sábado já tinhamos alguns concepts criados.</p>

<p>Realmente fiquei impressionado na primeira vez que já tínhamos alguns concepts do jogo em tão pouco tempo. Eu , Carlos (o programador) e o Pedro já estávamos preparando um esqueleto do código e conseguimos deixar a base do jogo bem sólida pra começar a introduzir a mecância que tínhamos atribuído pro jogo.
Nessa hora, o sono ja começou a bater e Carlos pediu um <em>timeout</em> e foi dormir. Passadas mais umas 2 horas (provavelmente já passava das 3 da manhã) foi a vez do Pedro e do Carlos (o artista) de irem tirar uma soneca.
Ficariam de guarda eu e o Rafael que já estava super empolgado criando um concept mais bem feito do velhinho Frangoi.
Sábado já estava claro e retomamos as atividades. O dia estava correndo bem e tanto código como arte estavam evoluíndo bem. Conseguimos montar um protótipo jogável ainda no começo da tarde de sábado.
Agora era integrar o restante da arte e partir para os testes de balanceamento. Carlos ( o programador ) montou um mapa base e começamos a pensar nos possíveis desafios que o jogo poderia ter (e que o tempo nos permitisse fazer ). Já era noite e alguns bugs começaram a aparecer.
Víamos que a madrugada seria bem longa, pois a maioria desses bugs eram críticos e teriam de ser resolvidos o mais rápido possível. Felizmente, depois de muita pizza e energético tivemos força e conseguimos resolvê-los. Agora era terminar as últimas fases de <em>polishing</em> e partir para o abraço.
Já era Domingo, por volta das 12:00 e tínhamos finalizado nosso protótipo do jogo. Como estávamos felizes. Nem o cansaço, dores musculares e outras coisas nocivas atrapalhariam aquela sensação de dever cumprido. Entregamos o jogo antes do prazo e após uma rápida apresentação no auditório da PUC, pudemos dar como finalizada a nossa primeira participação em uma Global Game Jam.</p>

<p>O <strong>Fuscshia Team</strong> (Nome dado de última hora pra equipe, devido aos nossos copos descartáveis rosas usados jam) nasceu nesse evento e espera dar continuação a esse jogo que até mesmo com um protótipo já conseguiu ficar entre os <a href="http://www.ggjcwb.com/2012/02/votacao2012/">3 jogos mais votados da GGJ Curitiba</a> e ser citado no <a href="http://olivierbiot.wordpress.com/">blog</a> e <a href="http://www.melonjs.org/gallery.html">galeria</a> oficial do framework MelonJS], fatos estes que nos deixam cada vez mais motivados a finalizar uma versão jogável do protótipo.</p>

<p><img src="http://globalgamejam.org/sites/default/files/styles/large/public/fuschiateam2.jpg" alt="Fuschia
Team" /></p>

<p>Abaixo, alguns vídeos que rolaram na Global Game Jam:</p>

<p>Matéria que saiu na Rede Globo local, falando sobre o evento:</p>

<div class="embed-video-container"><iframe src="http://www.youtube.com/embed/GCwCSUXPBP0 "></iframe></div>


<p></p>

<p>Entrevista com os desenvolvedores do Frangoi&#8217;s Journey:</p>

<div class="embed-video-container"><iframe src="http://www.youtube.com/embed/nzl6Bmtfjhk "></iframe></div>


<p></p>

<p>Gameplay do Frangoi&#8217;s Journey:</p>

<div class="embed-video-container"><iframe src="http://www.youtube.com/embed/DXE6YxewXaM "></iframe></div>


<p>Quem quiser acompanhar a evolução do jogo, pode baixar ou contribuir gratuitamente com o código fonte do jogo disponível no meu Github, <a href="https://github.com/ellisonleao/frangois">Aqui</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/xna-e-os-canhoes/">XNA E Os Canhões!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-10T16:47:00-02:00" pubdate data-updated="true">Nov 10<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/xna-e-os-canhoes/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Portuguese Only!!</strong></p>

<p>Fala pessoal, começando uma série de posts sobre desenvolvimento de jogos, resolvi falar um pouco de um exercício interessante pra quem gostaria de fazer uma física básica usando vetores com XNA. O seguinte exercício mostra um canhão que atira uma bala na tela. Para explicar o exercício, uma rápida teoria:</p>

<h2>Os vetores</h2>

<p>Vetores são representações de força que possuem uma intensidade e uma direção, chamadas de forças vetoriais. Um vetor consegue facilmente representar a direção de um vento, a força da gravidade, a direção de um chute de uma bola, etc. Para representar os vetores utilizamos setas direcionais como na figura abaixo:</p>

<p><img src="http://img441.imageshack.us/img441/4726/vetoresequipolentes.png" alt="" /></p>

<p>Para representar um vetor matematicamente, utilizamos 2 pontos no eixo cartesiano ( para uma representação em 2 dimensões ) e 3 pontos ( para uma representação em 3 dimensões ). Vale lembrar que um vetor não é um ponto matemático, apesar da estrutura dos 2 serem bem parecidas.</p>

<h2>A física</h2>

<p>Com vetores, é possível também realizar operações matemáticas, como soma, subtração e multiplicação por um escalar. Não vou me aprofundar nessa parte, recomendo a leitura de um artigo bem interessante no site <a href="http://www.pontov.com.br/site/arquitetura/54-matematica-e-fisica/132-o-uso-de-vetores-nos-jogos">Ponto V!</a>, que fala bem mais aprofundado sobre o uso de vetores nos jogos. Abaixo, temos um simples exemplo de operações utilizando vetores:</p>

<p><img src="http://www.physicsmynd.com/wp-content/uploads/2010/09/Vector-add1.png" alt="" /></p>

<p>Para o nosso joguinho iremos realizar o cálculo de resultante de vetores para o lançamento do nosso canhão. Utilizaremos como forças a aceleração da gravidade, a velocidade da bola e o vento.</p>

<h2>O XNA</h2>

<p>No jogo, utilizaremos o XNA para o desenvolvimento, um maravilhoso framework que nos permite ganhar bastante tempo, devido ao seu código já possuir implementado algumas bibliotecas matemáticas e gráficas. Todo código desenvolvido em XNA é escrito na linguagem C#, por isso , pra quem ainda não é familiarizado com a linguagem <a href="http://msdn.microsoft.com/en-us/vcsharp/aa336809">recomendo uma leitura inicial aqui</a></p>

<p>Basicamente, o XNA é composto de uma classe principal (Game) com seus principais métodos:</p>

<ul>
<li><strong>Initialize()</strong> - Atribui inicializações iniciais ao jogo ( Valores iniciais para algumas variáveis , etc..)</li>
<li><strong>LoadContent()</strong> - Carrega todo o conteúdo do jogo na memória (Animações, Sprites, Fontes, Modelos 3D, etc..)</li>
<li><strong>Draw()</strong> - Método que renderiza o conteúdo do jogo.</li>
<li><strong>Update()</strong> - Atualiza o jogo e envia o resultado para a função Draw()</li>
</ul>


<p>Neste artigo apenas irei mostrar as partes interessantes dos algoritmos do jogo, deixando um link no final, praqueles que quiserem baixar e testar nas suas máquinas.</p>

<h2>Movimentação e vetor offset</h2>

<p>No jogo, o canhão poderá aumentar o diminuir o ângulo de lançamento para tentar atingir o alvo. Utilizaremos as setas de esquerda e direita para fazer esta movimentação.</p>

<p>Dentro do arquivo Cannon.cs , no método UpdateCannon() , temos o seguinte código</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">if</span> <span class="p">(</span><span class="n">keybState</span><span class="p">.</span><span class="n">IsKeyDown</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="n">Left</span><span class="p">))</span>
</span><span class='line'>   <span class="n">Angle</span> <span class="p">-=</span> <span class="m">1</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="n">keybState</span><span class="p">.</span><span class="n">IsKeyDown</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="n">Right</span><span class="p">))</span>
</span><span class='line'>   <span class="n">Angle</span> <span class="p">+=</span> <span class="m">1</span><span class="p">;</span>
</span><span class='line'><span class="n">Angle</span> <span class="p">=</span> <span class="n">MathHelper</span><span class="p">.</span><span class="n">Clamp</span><span class="p">(</span><span class="n">Angle</span><span class="p">,</span> <span class="p">-</span><span class="m">180</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>É nessa parte que o código recalcula o novo ângulo de rotação do canhão. Como vocês podem ver, o código é extremamente simples, dado que o XNA já possui métodos que tratam os eventos de input de teclado (IsKeyDown ) , como também limita a rotação angular do canhão em um arco de no máximo 180 graus</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">Angle</span> <span class="p">=</span> <span class="n">MathHelper</span><span class="p">.</span><span class="n">Clamp</span><span class="p">(</span><span class="n">Angle</span><span class="p">,</span> <span class="p">-</span><span class="m">180</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Mas agora temos o seguinte problema: Após eu setar o ângulo de lançamento do canhão, precisamos fazer com que a bala saia pela ponta do mesmo. E como fazemos isso ? Simples, utilizamos o vetor de offset.
Um vetor de offset, como o nome já dia, nada mais é do que um vetor que parte do centro até a ponta do canhão.
A partir do momento que rotacionamos o ângulo dele, precisamos ,também, rotacionar o vetor offset , fazendo com que toda vez que vamos atirar a bala, ela saia do lugar correto. Para entender melhor um vetor de offset, temos um exemplo gráfico abaixo:</p>

<p><img src="http://www.pontov.com.br/site//images/stories/artigos/6.png" alt="" /></p>

<p>Na imagem vimos 3 vetores: o amarelo representa a posição da nave e os 2 brancos são vetores offset que, nesse caso, representam o lugar por ondem as balas da nave saem.</p>

<p>O cálculo do nosso vetor de offset pode ser demonstrado no método getCannonOffset() , da classe Cannon, a seguir:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="n">Vector2</span> <span class="nf">getCannonOffset</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">size</span> <span class="p">=</span> <span class="p">(</span><span class="n">Sprite</span><span class="p">.</span><span class="n">Width</span><span class="p">)</span> <span class="p">-</span> <span class="m">20</span><span class="p">;</span>
</span><span class='line'>  <span class="n">Vector2</span> <span class="n">direction</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(((</span><span class="kt">float</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">Cos</span><span class="p">(</span><span class="n">getRotateAngle</span><span class="p">())</span> <span class="p">*</span> <span class="n">size</span><span class="p">),</span> <span class="p">(</span><span class="kt">float</span><span class="p">)(</span><span class="n">Math</span><span class="p">.</span><span class="n">Sin</span><span class="p">(</span><span class="n">getRotateAngle</span><span class="p">())</span> <span class="p">*</span> <span class="n">size</span><span class="p">));</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">Position</span><span class="p">,</span> <span class="n">direction</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Primeiro calculamos o tamanho que vai ter o nosso vetor (nesse caso a largura do canhão - 20 pixels , posição aproximada da &#8220;boca&#8221; dele) . Agora temos de calcular o nosso vetor offset. O cálculo é relativamente simples: Dado o tamanho do vetor e o ângulo, temos:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>X = co-seno(ângulo) * tamanho; 
</span><span class='line'>Y = seno(ângulo) * tamanho;</span></code></pre></td></tr></table></div></figure>


<p>Lembrando que o ângulo tem de ser passado em Radianos ( o método getRotateAngle() transforma o ângulo dado em Radianos ).</p>

<p>Por final retornamos um vetor que é a soma da posição do canhão atual , com esse nosso novo vetor, nos dando assim, o nosso vetor offset.</p>

<h2>Movimento da Bala</h2>

<p>Outra parte que vale a pena falar é como funciona o Update do jogo. No caso do lançamento da bala do canhão, temos de calcular para cara segundo, a sua nova posição com relação a força aplicada inicialmente.</p>

<p>O cálculo da nova posição da bala do canhão pode ser visto na classe CannonBall, método Update():</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">secs</span> <span class="p">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gameTime</span><span class="p">.</span><span class="n">ElapsedGameTime</span><span class="p">.</span><span class="n">TotalSeconds</span> <span class="p">*</span> <span class="m">9</span><span class="p">;</span>
</span><span class='line'>  <span class="n">Vector2</span> <span class="n">accelSecs</span> <span class="p">=</span> <span class="p">(</span><span class="n">Wind</span> <span class="p">/</span> <span class="n">Mass</span> <span class="p">+</span> <span class="n">Gravity</span><span class="p">)</span> <span class="p">*</span> <span class="n">secs</span><span class="p">;</span>
</span><span class='line'>  <span class="n">Position</span> <span class="p">+=</span> <span class="p">(</span><span class="n">Momentum</span> <span class="p">+</span> <span class="n">accelSecs</span><span class="p">)</span> <span class="p">*</span> <span class="n">secs</span><span class="p">;</span>
</span><span class='line'>  <span class="n">Momentum</span> <span class="p">+=</span> <span class="n">accelSecs</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Nesse método calculamos o chamado <em>deltatime</em> do jogo, que nos da informação do tempo corrido do jogo. Aqui, por motivos de balanceamento, multiplico o delta time por 9 para aumentar a velocidade com que a bomba se move.
Depois, calculamos a resultante das forças que estão atuando na bola (neste caso vento, massa e gravidade). Após calcularmos nossa resultante, atualizamos a posição da bala, somando-a com o nosso vetor de posição.</p>

<h2>Conclusão</h2>

<p>Mostrei aqui apenas algumas partes interessantes do exercício de canhões com vetores usando XNA. Aconselho a vocês baixarem o  código completo do jogo no meu <a href="http://github.com/ellisonleao/Xna-Cannon">Github</a></p>

<p>Então é isso pessoal, espero que vocês tenham entendido como é importante o uso de vetores nos jogos. Até o próximo post pessoal!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/o-maravilhoso-mundo-do-screen/">The Wonderful World of Screen</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-22T00:47:00-03:00" pubdate data-updated="true">Sep 22<span>nd</span>, 2011</time>
        
         | <a href="/blog/2011/o-maravilhoso-mundo-do-screen/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>According to the manual, &#8220;Screen is a full-screen window manager that multiplexes a physical terminal between several processes, typically interactive shells,&#8221; in other words, imagine having multiple terminals open in the same ssh session, with each one having their separate processes (with other ssh connections). Have you Imagined? Now imagine that you can keep that session active in the server connected by the time you want. Therefore, your tasks will be active on the server as long as you want and there be no problem if  a connection failure happens. In this post, I will show some of the characteristics of the screen and teach a simple script that generates a session with 3 &#8220;tabs&#8221; opened for one project.</p>

<h1>Installing Screen</h1>

<p>To install screen, for Ubuntu and Debian users, open a terminal and just type:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>~# sudo apt-get install screen
</span></code></pre></td></tr></table></div></figure>


<p>To other distros, you can download screen in the <a href="http://www.gnu.org/software/screen/">official site</a></p>

<h1>Configuring a .screenrc file</h1>

<p>We can configure a simple but cool visual interface for screen, modifying our .screenrc file . Open your favorite text editor and edit the file ~/.screenrc:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>hardstatus alwayslastline
</span><span class='line'>hardstatus string <span class="s1">&#39;%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]&#39;</span>
</span><span class='line'>vbell on
</span><span class='line'>defscrollback 1024
</span><span class='line'>startup_message off
</span><span class='line'>autodetach on
</span><span class='line'>defutf8 on
</span></code></pre></td></tr></table></div></figure>


<p>Now let&#8217;s open our screen. Go to the terminal and type <em>screen</em>. You should see a screen like this:</p>

<p><img src="http://2.bp.blogspot.com/_iWsqNoMkfno/TIJkuLOBtnI/AAAAAAAAAOg/I9ehKHxgI1w/s1600/screen.png" alt="" /></p>

<p>Here  we can find some useful informations:</p>

<ul>
<li>Left side: Host name that you&#8217;re connected</li>
<li>Center:  Actual &#8220;Tab&#8221;</li>
<li>Right side: Server Date/Time</li>
</ul>


<p>Screen uses the command &#8220;Ctrl-A&#8221; as a signal to send commands to screen instead of the shell.</p>

<p>Some basics commands on screen:</p>

<ul>
<li>(Ctrl+A) + C - Creates new &#8220;Tab&#8221;</li>
<li>(Ctrl+D) - Remove current &#8220;Tab&#8221;</li>
<li>(Ctrl+A) + D - Detach the screen session</li>
</ul>


<p>Between &#8220;Tabs&#8221;:</p>

<ul>
<li>(Ctrl+A) + N - Go to the next &#8220;tab&#8221;</li>
<li>(Ctrl+A) + P - Go to the previous &#8220;tab&#8221;</li>
<li>(Ctrl+A) + NUM - Go to &#8220;tab&#8221; number = NUM</li>
</ul>


<p>For more commands just type (Ctrl+A) + ? for help.</p>

<h1>A general script to create a development environment</h1>

<p>Now it&#8217;s time to create a cool script that allow us to call screen with 3 pre-opened tabs, each one with its own functionality.
In my projects i use to put one tab for run general services (web servers, etc), another tab for VIM editor and another tab with a bash for general commands. The script was created with (Uncle Paul&#8217;s)[http://vimnox.wordpress.com/] help.</p>

<p>Let&#8217;s call the script <em>newscreen</em> . Create a file <em>newscreen</em> and put the following code:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">source</span> <span class="nv">$HOME</span>/.screenrc
</span><span class='line'>screen -t server
</span><span class='line'>screen -t vim
</span><span class='line'>screen -t bash
</span></code></pre></td></tr></table></div></figure>


<p>Save the file on <strong>/usr/local/bin/</strong> . That script is gonna be called by another script that we&#8217;ll call <em>createscreen</em>. Create anothe file called <em>createscreen</em> and put the following code:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> &amp;amp;quot;<span class="nv">$#&amp;</span>amp;quot; -ne 1 <span class="o">]</span>
</span><span class='line'><span class="k">then</span>
</span><span class='line'><span class="nb">echo</span> &amp;amp;quot;Digite o nome <span class="k">do </span>projeto&amp;amp;quot;
</span><span class='line'><span class="k">else</span>
</span><span class='line'>screen -RR <span class="nv">$1</span> -c /usr/local/bin/newscreen
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>


<p>Also save this file on <strong>/usr/local/bin/</strong> . After all set and done, give the execution permissions to <em>createscreen</em> file (chmod +x). Now we can use the script by typing:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>~# /usr/local/bin newscreen PROJECTNAME
</span></code></pre></td></tr></table></div></figure>


<p>And that&#8217;s it! See you at next post!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/mute-em-curitiba/">Mute in Curitiba</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-16T12:13:00-03:00" pubdate data-updated="true">Sep 16<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/mute-em-curitiba/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the finest things about living in Curitiba is that you can go to a lots of great shows and pay really cheap tickets. On September 4th was a hardcore day in Curitiba. I went to a show with Mute ( Canada ), one of the most promissing bands of the world hardcore bands scenario. I paid about R$ 25,00 (show worth the price) , and the show was really exciting. Here some live footage</p>

<div class="embed-video-container"><iframe src="http://www.youtube.com/embed/aaUmOSvROBw "></iframe></div>




<div class="embed-video-container"><iframe src="http://www.youtube.com/embed/srTUn_o4WUM "></iframe></div>




<div class="embed-video-container"><iframe src="http://www.youtube.com/embed/fiXKEAOtAtI "></iframe></div>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/debug-all-the-components-of-a-unity3d-gameobject/">Debug all the Components of a Unity3D GameObject</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/a-simple-fabfile-for-django-applications/">A simple fabfile for Django applications</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/hello-world-again/">Hello World (Again!)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/a-infancia-ainda-nao-esta-perdida/">The hope of our childhood isn&#8217;t lost (yet)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/nao-eram-apenas-copos-rosas/">Não eram apenas copos rosas</a>
      </li>
    
  </ul>
</section>

<section>
<span>
  <img src="http://www.gravatar.com/avatar/78b6cc7a628b92975443b262102c843f" alt="Ellison Leão " title="Ellison Leão" />
  <p>Hi, my name is Ellison and i like to build cool games and web projects</p>
  <p>Feel free to <a href="mailto:ellisonleao@gmail.com">contact me</a> at anytime</p>
</span>
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ellisonleao">@ellisonleao</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ellisonleao',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Coderwall</h1>
  <ul id="cw_badges">
    <li class="loading">Status updating&#8230;</li>
  </ul>

  <script type="text/javascript">
    var coderwall = (function(){
      function render(options, badges){
        var fragment = '',
            t = $(options.target)[0],
            height = 65,
            width = 65,
            index;

        for (index in badges) {
          fragment += '<a class="cw_badge"title="' + badges[index].description + '" href="http://coderwall.com/' + options.user + '">';
          fragment += '<img alt="' + badges[index].description + '" height="' + width + '" width="' + height + '" src="' + badges[index].badge + '"/>';
          fragment += '</a>';
        }

        t.innerHTML = fragment;
      }
      return {
        showBadges: function(options){
          $.ajax({
              url: 'http://coderwall.com/' + options.user + '.json?callback=?'
            , type: 'jsonp'
            , error: function (err) { $(options.target + ' li.loading').addClass('error').text("Error loading feed"); }
            , success: function(res) {
                render(options, res.data.badges);
            }
          });
        }
      };
    })();

    $.domReady(function(){
      if (!window.jXHR){
        var jxhr = document.createElement('script');
        jxhr.type = 'text/javascript';
        jxhr.src = '/javascripts/libs/jXHR.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(jxhr, s);
      }
      if (!window.$){
        var b = document.createElement('script');
        b.type = 'text/javascript';
        b.src = '/javascripts/ender.js';
        var sc = document.getElementsByTagName('script')[0];
        sc.parentNode.insertBefore(jxhr, s);
      }
      coderwall.showBadges({
        user: 'ellisonleao',
        target: '#cw_badges'
      });
    });
  </script>
  <style type="text/css">
    .cw_badge img {
      padding: 5px;
      border: 0 none !important;
      -moz-box-shadow: none !important;
      -webkit-box-shadow: none !important;
      -o-box-shadow: none !important;
      box-shadow: none !important;
    }
  </style>
</section>

<section>
  <h1>I&#8217;m also on this places</h1>
</section>
<section class="googleplus">
  <h1>
    <a target="_blank" href="https://plus.google.com/111892124923456159049?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
  <h1>
    <a target="_blank" href="https://facebook.com/ellisonleao">
      <img src="/images/facebook.png" width="32" height="32">
      Facebook
    </a>
  </h1>
  <h1>
    <a target="_blank" href="https://linkedin.com/in/ellisonleao">
      <img src="/images/linkedin.png" width="32" height="32">
      Linkedin
    </a>
  </h1>
</section>

  
</aside>

      </div>
    </div>
    <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ellison Leão -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>. Design by <a href="http://octopressthemes.com">Octopress Themes</a></span>
</p>

</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'ellisonleao';
      
        
        var disqus_script = 'count.js';
      

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </div>
</body>
</html>
